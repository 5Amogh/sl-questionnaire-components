{"version":3,"file":"sl-questionnaire.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://sl-questionnaire/lib/services/translate.service.ts","ng://sl-questionnaire/lib/interfaces/questionnaire.type.ts","ng://sl-questionnaire/lib/services/sl-questionnaire.service.ts","ng://sl-questionnaire/lib/text-input/text-input.component.ts","ng://sl-questionnaire/lib/date-input/date-input.component.ts","ng://sl-questionnaire/lib/number-input/number-input.component.ts","ng://sl-questionnaire/lib/range-input/range-input.component.ts","ng://sl-questionnaire/lib/radio-input/radio-input.component.ts","ng://sl-questionnaire/lib/checkbox-input/checkbox-input.component.ts","ng://sl-questionnaire/lib/ques-remarks/ques-remarks.component.ts","ng://sl-questionnaire/lib/services/utils.service.ts","ng://sl-questionnaire/lib/attachment/attachment.component.ts","ng://sl-questionnaire/lib/input/input.component.ts","ng://sl-questionnaire/lib/page-questions/page-questions.component.ts","ng://sl-questionnaire/lib/matrix-questions/matrix-questions.component.ts","ng://sl-questionnaire/lib/sl-questionnaire.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport abstract class SlTranslateService {\n}\n","export interface IAssessmentDetails {\n  message?: string;\n  status?: number;\n  result: AssessmentInfo;\n  responseCode: string;\n}\n\nexport interface AssessmentInfo {\n  entityProfile: EntityProfile;\n  solution: Solution;\n  program: Program;\n  assessment: Assessment;\n}\n\nexport interface EntityProfile {\n  _id: string;\n  entityTypeId: string;\n  entityType: string;\n}\n\nexport interface Solution {\n  _id: string;\n  externalId: string;\n  name: string;\n  description: string;\n  registry: any[];\n  captureGpsLocationAtQuestionLevel: boolean;\n  enableQuestionReadOut: boolean;\n  scoringSystem: null;\n  isRubricDriven: boolean;\n  pageHeading: string;\n  criteriaLevelReport?: boolean;\n}\n\nexport interface Program {\n  _id: string;\n  isAPrivateProgram: boolean;\n  externalId: string;\n  name: string;\n  description: string;\n  imageCompression: ImageCompression;\n}\n\nexport interface Assessment {\n  name: string;\n  description: string;\n  externalId: string;\n  pageHeading: string;\n  submissionId: string;\n  evidences: Evidence[];\n  submissions: Submissions;\n}\n\nexport type Code = string;\n\nexport interface Evidence {\n  code: Code;\n  sections: Section[];\n  externalId: Code;\n  tip: null;\n  name: string;\n  description: null;\n  modeOfCollection: string;\n  canBeNotApplicable: boolean;\n  notApplicable: boolean;\n  canBeNotAllowed: boolean;\n  remarks: null;\n  startTime: number;\n  endTime: string;\n  isSubmitted: boolean;\n  submissions: any[];\n}\n\nexport interface Section {\n  code: string;\n  questions: Question[];\n  name: string;\n}\n\nexport interface Question {\n  _id: string;\n  question: string;\n  isCompleted: boolean;\n  showRemarks: string;\n  options: string;\n  option?:{hint:\"\",tip:\"\"}[]\n  sliderOptions: string;\n  children: string[];\n  questionGroup: string;\n  fileName: string;\n  instanceQuestions: string;\n  isAGeneralQuestion: string;\n  autoCapture: string;\n  allowAudioRecording: string;\n  prefillFromEntityProfile: string;\n  entityFieldName: string;\n  isEditable: string;\n  showQuestionInPreview: string;\n  deleted: string;\n  remarks: string;\n  value: string | string[];\n  usedForScoring: string;\n  questionType: string;\n  canBeNotApplicable: string;\n  visibleIf: VisibleIfUnion;\n  validation: string | Validation;\n  dateFormat: string;\n  externalId: string;\n  tip: string;\n  hint: string;\n  responseType: ResponseType;\n  modeOfCollection: string;\n  accessibility: string;\n  rubricLevel: string;\n  sectionHeader: string;\n  page: string;\n  questionNumber: string;\n  updatedAt: string;\n  createdAt: string;\n  __v: string;\n  createdFromQuestionId: string;\n  evidenceMethod: string;\n  payload: Payload;\n  startTime: number;\n  endTime: number;\n  gpsLocation: string;\n  file: string;\n  pageQuestions: Question[];\n}\n\ntype Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n\nexport interface PageQuestion\n  extends Omit<Question, 'responseType' | 'pageQuestions'> {\n  value: 'pageQuestions';\n  pageQuestions: Question[];\n}\nexport interface MatrixQuestion\n  extends Omit<Question, 'responseType' | 'instanceQuestions' | 'value'> {\n  responseType: 'matix';\n  value: Array<Question[]>;\n  instanceQuestions: Question[];\n  instanceIdentifier: string;\n}\n\nexport enum ResponseType {\n  TEXT = 'text',\n  NUMBER = 'number',\n  RADIO = 'radio',\n  MULTISELECT = 'multiselect',\n  DATE = 'date',\n  SLIDER = 'slider',\n  PAGEQUESTIONS = 'pageQuestions',\n  MATRIX = 'matrix',\n}\n\nexport type FileUnion = FileClass | string;\n\nexport interface FileClass {\n  required: boolean;\n  type: string[];\n  minCount: number;\n  maxCount: number;\n  caption: string;\n}\n\nexport interface Payload {\n  criteriaId: string;\n  responseType: string;\n  evidenceMethod: Code;\n  rubricLevel: string;\n}\n\nexport interface Validation {\n  required: boolean;\n  max?: string;\n  min?: string;\n  IsNumber?: string;\n  regex: RegExp;\n}\n\nexport interface Option {\n  value: string;\n  label: string;\n}\n\nexport type VisibleIfUnion = VisibleIfElement[] | string;\n\nexport interface VisibleIfElement {\n  operator: string;\n  value: string[];\n  _id: string;\n}\n\nexport interface Submissions {}\n\nexport interface ImageCompression {\n  quality: number;\n}\n","import { Injectable } from '@angular/core';\nimport { AbstractControl, ValidatorFn } from '@angular/forms';\nimport {\n  Evidence,\n  Question,\n  ResponseType,\n} from '../interfaces/questionnaire.type';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SlQuestionnaireService {\n  private _submissionId: string;\n  constructor() {}\n  validate = (data: Question): ValidatorFn => {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n      if (typeof data.validation == 'string') {\n        return null;\n      }\n      if (!data.validation.required) {\n        return null;\n      }\n      if (data.validation.regex) {\n        const forbidden = this.testRegex(data.validation.regex, control.value);\n        return forbidden ? null : { err: 'Invalid character found' };\n      }\n\n      if (data.validation.IsNumber) {\n        if (!control.value) {\n          return { err: 'Number not entered' };\n        }\n        const forbidden = !isNaN(control.value);\n        return forbidden ? null : { err: 'Only numbers allowed' };\n      }\n\n      if (data.validation.required) {\n        if (!control.value) {\n          return { err: 'Required field' };\n        }\n\n        if (data.responseType == ResponseType.MULTISELECT) {\n          return control.value.some((v) => v != '')\n            ? null\n            : { err: 'Select at least one option' };\n        }\n\n        if (data.responseType == ResponseType.SLIDER) {\n          let min = data.validation.min;\n          let max = data.validation.max;\n          return min <= control.value && control.value <= max\n            ? null\n            : { err: 'Selected value  not within range' };\n        }\n      }\n    };\n  };\n\n  public testRegex(regexExpression: RegExp, value: string): boolean {\n    const regex = new RegExp(regexExpression);\n    return regex.test(value);\n  }\n\n  setSubmissionId(submissionId: any) {\n    this._submissionId = submissionId;\n  }\n  getSubmissionId() {\n    return this._submissionId;\n  }\n\n  mapSubmissionToAssessment(data) {\n    const assessment = data.assessment;\n\n    for (const evidence of assessment.evidences) {\n      const validSubmission = assessment.submissions[evidence.externalId];\n      if (validSubmission) {\n        evidence.notApplicable = validSubmission.notApplicable;\n        if (evidence.notApplicable) {\n          continue;\n        }\n\n        for (const section of evidence.sections) {\n          for (const question of section.questions) {\n            if (question.responseType === 'pageQuestions') {\n              for (const questions of question.pageQuestions) {\n                questions.value =\n                  questions.responseType !== 'matrix'\n                    ? validSubmission.answers[questions._id].value\n                    : this.constructMatrixValue(\n                        validSubmission,\n                        questions,\n                        evidence.externalId\n                      );\n                questions.remarks = validSubmission.answers[questions._id]\n                  ? validSubmission.answers[questions._id].remarks\n                  : '';\n                questions.fileName = validSubmission.answers[questions._id]\n                  ? validSubmission.answers[questions._id].fileName\n                  : [];\n              }\n            } else if (\n              validSubmission.answers &&\n              validSubmission.answers[question._id]\n            ) {\n              question.value =\n                question.responseType !== 'matrix'\n                  ? validSubmission.answers[question._id].value\n                  : this.constructMatrixValue(\n                      validSubmission,\n                      question,\n                      evidence.externalId\n                    );\n              question.remarks = validSubmission.answers[question._id]\n                ? validSubmission.answers[question._id].remarks\n                : '';\n              question.fileName = validSubmission.answers[question._id]\n                ? validSubmission.answers[question._id].fileName\n                : [];\n            }\n          }\n        }\n      }\n    }\n\n    this.setSubmissionId(assessment.submissionId);\n    return data;\n  }\n\n  constructMatrixValue(validSubmission, matrixQuestion, ecmId) {\n    matrixQuestion.value = [];\n    if (\n      validSubmission.answers &&\n      validSubmission.answers[matrixQuestion._id] &&\n      validSubmission.answers[matrixQuestion._id].value\n    ) {\n      for (const answer of validSubmission.answers[matrixQuestion._id].value) {\n        matrixQuestion.value.push(\n          JSON.parse(JSON.stringify(matrixQuestion.instanceQuestions))\n        );\n      }\n      matrixQuestion.value.forEach((instance, index) => {\n        instance.forEach((question, instanceIndex) => {\n          if (\n            validSubmission.answers[matrixQuestion._id] &&\n            validSubmission.answers[matrixQuestion._id].value[index][\n              question._id\n            ]\n          ) {\n            question.value =\n              validSubmission.answers[matrixQuestion._id].value[index][\n                question._id\n              ].value;\n            question.remarks =\n              validSubmission.answers[matrixQuestion._id].value[index][\n                question._id\n              ].remarks;\n            question.fileName =\n              validSubmission.answers[matrixQuestion._id].value[index][\n                question._id\n              ].fileName;\n          }\n        });\n      });\n      return matrixQuestion.value;\n    } else {\n      return [];\n    }\n  }\n\n  getEvidenceData(evidence: Evidence, formValues: object) {\n    let sections = evidence.sections;\n    let answers = this.getSectionData(sections, formValues);\n    let payloadData = {\n      externalId: evidence.externalId,\n      answers: answers,\n      startTime: evidence.startTime,\n      endTime: Date.now(),\n    };\n    return payloadData;\n  }\n\n  getSectionData(sections, formValues) {\n    let answers = {};\n    for (let index = 0; index < sections.length; index++) {\n      answers = {\n        ...answers,\n        ...this.createpayload(sections[index].questions, formValues),\n      };\n    }\n    return answers;\n  }\n\n  createpayload(questions, formValues) {\n    let answers = {};\n    for (let index = 0; index < questions.length; index++) {\n      let currentQuestion = questions[index];\n      if (currentQuestion.responseType == 'pageQuestions') {\n        answers = {\n          ...answers,\n          ...this.createpayload(currentQuestion.pageQuestions, formValues),\n        };\n        continue;\n      }\n      if (currentQuestion.responseType == 'matrix') {\n        for (let index = 0; index < currentQuestion.value.length; index++) {\n          formValues[currentQuestion._id][index] = this.createpayload(\n            currentQuestion.value[index],\n            formValues[currentQuestion._id][index]\n          );\n        }\n      }\n\n      let perQuestionData = this.formatToPayload(currentQuestion, formValues);\n      answers[currentQuestion._id] = perQuestionData;\n    }\n\n    return answers;\n  }\n\n  formatToPayload(currentQuestion, formValues) {\n    let value =\n      currentQuestion.responseType != 'matrix'\n        ? currentQuestion.value\n        : formValues[currentQuestion._id];\n    return {\n      qid: currentQuestion._id,\n      value: value,\n      remarks: currentQuestion.remarks,\n      fileName: currentQuestion.fileName, //todo,\n      gpsLocation: '',\n      payload: {\n        question: currentQuestion.question,\n        labels: formValues[currentQuestion._id],\n        responseType: currentQuestion.responseType,\n        filesNotUploaded: [], //todo\n      },\n      startTime: currentQuestion.startTime,\n      endTime: currentQuestion.endTime,\n      criteriaId: currentQuestion.payload.criteriaId,\n      responseType: currentQuestion.responseType,\n      evidenceMethod: currentQuestion.evidenceMethod,\n      rubricLevel: '',\n    };\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Question } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-text-input',\n  templateUrl: './text-input.component.html',\n  styleUrls: ['./text-input.component.scss'],\n})\nexport class TextInputComponent implements OnInit {\n  text: string;\n  @Input() questionnaireForm: FormGroup;\n  @Input() question : Question;\n  placeholder;\n\n  constructor(\n    private qService: SlQuestionnaireService,\n    private translate: SlTranslateService\n  ) {}\n\n  ngOnInit() {\n    this.placeholder = this.translate['frmelmnts'].lbl.enterResponse;\n    setTimeout(() => {\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormControl(this.question.value || null, [\n          this.qService.validate(this.question),\n        ])\n      );\n\n      this.question.startTime = this.question.startTime\n        ? this.question.startTime\n        : Date.now();\n    });\n  }\n\n  get isValid(): boolean {\n    return this.questionnaireForm.controls[this.question._id].valid;\n  }\n\n  get isTouched(): boolean {\n    return this.questionnaireForm.controls[this.question._id].touched;\n  }\n  onChange(e: Event) {\n    let value = (e.target as HTMLInputElement).value;\n    this.question.value = value;\n    this.question.endTime = Date.now();\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Question, Validation } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-date-input',\n  templateUrl: './date-input.component.html',\n  styleUrls: ['./date-input.component.scss'],\n})\nexport class DateInputComponent implements OnInit {\n  date: any;\n  min: Date;\n  max: Date;\n\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: Question;\n  @Input() autoCaptureText: String;\n\n  constructor(\n    private qService: SlQuestionnaireService,\n    private translate: SlTranslateService\n  ) {}\n\n  ngOnInit() {\n    this.autoCaptureText = this.translate['frmelmnts'].btn?.autoCapture;\n    setTimeout(() => {\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormControl(\n          this.question.value ? new Date(this.question.value as string) : null,\n          [this.qService.validate(this.question)]\n        )\n      );\n\n      this.question.startTime = this.question.startTime\n        ? this.question.startTime\n        : Date.now();\n    });\n    this.min = (this.question.validation as Validation).min\n      ? new Date((this.question.validation as Validation).min)\n      : null;\n    this.max = (this.question.validation as Validation).max\n      ? new Date((this.question.validation as Validation).max)\n      : null;\n  }\n\n  onChange(e: string) {\n    let value = e;\n    this.question.value = value;\n    this.question.endTime = Date.now();\n  }\n\n  autoCapture() {\n    this.questionnaireForm.controls[this.question._id].patchValue(\n      new Date(Date.now())\n    );\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Question } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-number-input',\n  templateUrl: './number-input.component.html',\n  styleUrls: ['./number-input.component.scss'],\n})\nexport class NumberInputComponent implements OnInit {\n  placeholder;\n  response: string;\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: Question;\n  constructor(\n    private qService: SlQuestionnaireService,\n    private translate: SlTranslateService\n  ) {}\n\n  ngOnInit() {\n    this.placeholder = this.translate['frmelmnts']?.lbl?.enterResponse;\n    setTimeout(() => {\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormControl(this.question.value || null, [\n          this.qService.validate(this.question),\n        ])\n      );\n      this.question.startTime = this.question.startTime\n        ? this.question.startTime\n        : Date.now();\n    });\n  }\n  onChange(e: Event) {\n    let value = (e.target as HTMLInputElement).value;\n    this.question.value = value;\n\n    this.question.endTime = Date.now();\n  }\n\n  get isValid(): boolean {\n    return this.questionnaireForm.controls[this.question._id].valid;\n  }\n\n  get isTouched(): boolean {\n    return this.questionnaireForm.controls[this.question._id].touched;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { Question } from '../interfaces/questionnaire.type';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-range-input',\n  templateUrl: './range-input.component.html',\n  styleUrls: ['./range-input.component.scss'],\n})\nexport class RangeInputComponent implements OnInit {\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: Question;\n  constructor(public qService: SlQuestionnaireService) {}\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormControl(this.question.value || null, [\n          this.qService.validate(this.question),\n        ])\n      );\n      this.question.startTime = this.question.startTime\n        ? this.question.startTime\n        : Date.now();\n    });\n  }\n\n  onChange(e: Event) {\n    let value = (e.target as HTMLInputElement).value;\n    this.question.value = value;\n    this.question.endTime = Date.now();\n  }\n\n  get isValid(): boolean {\n    return this.questionnaireForm.controls[this.question._id].valid;\n  }\n\n  get isTouched(): boolean {\n    return this.questionnaireForm.controls[this.question._id].touched;\n  }\n\n  get min() {\n    if (typeof this.question.validation == 'string') {\n      return null;\n    }\n    return this.question.validation.min;\n  }\n\n  get max() {\n    if (typeof this.question.validation == 'string') {\n      return null;\n    }\n    return this.question.validation.max;\n  }\n}\n","import { Output } from '@angular/core';\nimport { Input } from '@angular/core';\nimport { Component, EventEmitter, OnInit } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { Question } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-radio-input',\n  templateUrl: './radio-input.component.html',\n  styleUrls: ['./radio-input.component.scss'],\n})\nexport class RadioInputComponent implements OnInit {\n  @Input() options: any;\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: Question;\n  hintCloseText: string;\n  @Output() dependentParent = new EventEmitter<Question>();\n  isDimmed: any;\n  hint: any;\n\n  constructor(\n    public qService: SlQuestionnaireService,\n    public translate: SlTranslateService\n  ) {}\n\n  ngOnInit() {\n    this.hintCloseText = this.translate['frmelmnts'].btn?.close;\n    setTimeout(() => {\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormControl(\n          this.question.value || null,\n          this.qService.validate(this.question)\n        )\n      );\n\n      this.question.startTime = this.question.startTime\n        ? this.question.startTime\n        : Date.now();\n      if (this.question.value) {\n        if (this.question.children.length) {\n          this.dependentParent.emit(this.question);\n        }\n      }\n    });\n  }\n\n  get isValid(): boolean {\n    return this.questionnaireForm.controls[this.question._id].valid;\n  }\n\n  get isTouched(): boolean {\n    return this.questionnaireForm.controls[this.question._id].touched;\n  }\n\n  onChange(value) {\n    this.questionnaireForm.controls[this.question._id].setValue(value);\n    this.question.value = value;\n    this.question.endTime = Date.now();\n    if (this.question.children.length) {\n      this.dependentParent.emit(this.question);\n    }\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\nimport { Question } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-checkbox-input',\n  templateUrl: './checkbox-input.component.html',\n  styleUrls: ['./checkbox-input.component.scss'],\n})\nexport class CheckboxInputComponent implements OnInit {\n  @Input() options;\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: Question;\n  hintCloseText: string;\n  @Output() dependentParent = new EventEmitter<Question>();\n  isDimmed: any;\n  hint: any;\n  constructor(\n    public qService: SlQuestionnaireService,\n    public translate: SlTranslateService\n  ) {}\n\n  ngOnInit() {\n    this.hintCloseText = this.translate['frmelmnts'].btn?.close;\n    setTimeout(() => {\n      const optionControl = this.options.map((v) => {\n        if (\n          this.question.value &&\n          (this.question.value as Array<string>).find((_v) => _v == v.value)\n        ) {\n          return new FormControl(v.value);\n        }\n        return new FormControl('');\n      });\n\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormArray(optionControl, this.qService.validate(this.question))\n      );\n\n      this.question.startTime = this.question.startTime\n        ? this.question.startTime\n        : Date.now();\n      if (this.question.value.length) {\n        if (this.question.children.length) {\n          this.dependentParent.emit(this.question);\n        }\n      }\n    });\n  }\n\n  onChange(oId: string, isChecked: boolean, oIndex: number) {\n    const formArray: FormArray = this.questionnaireForm.get(\n      this.question._id\n    ) as FormArray;\n    if (isChecked) {\n      formArray.controls[oIndex].patchValue(oId);\n    }\n    this.question.value =\n      this.questionnaireForm.controls[this.question._id].value;\n    this.question.value = (this.question.value as Array<string>).filter(\n      Boolean\n    );\n    this.question.endTime = Date.now();\n    if (this.question.children.length) {\n      this.dependentParent.emit(this.question);\n    }\n  }\n\n  get isValid(): boolean {\n    return this.questionnaireForm.controls[this.question._id].valid;\n  }\n\n  get isTouched(): boolean {\n    return this.questionnaireForm.controls[this.question._id].touched;\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Question } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\n\n@Component({\n  selector: 'sl-ques-remarks',\n  templateUrl: './ques-remarks.component.html',\n  styleUrls: ['./ques-remarks.component.scss'],\n})\nexport class QuesRemarksComponent implements OnInit {\n  remark = '';\n  showRemarks;\n\n  @Output() saveClicked = new EventEmitter();\n  @Input() question: Question;\n  title: String;\n  remarksAddText: String;\n  constructor(private translate: SlTranslateService) {}\n\n  ngOnInit() {\n    this.title = this.translate['frmelmnts'].lbl?.remark_title;\n    this.remarksAddText = this.translate['frmelmnts'].btn.add;\n    this.remark = this.question.remarks;\n    this.remark ? (this.showRemarks = true) : false;\n  }\n  saveRemark() {\n    this.question.remarks = this.remark;\n    this.saveClicked.emit({ value: this.remark });\n  }\n\n  deleteRemark() {\n    this.remark = '';\n    this.saveRemark();\n    this.showRemarks = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SuiModalService } from 'ng2-semantic-ui-v9';\nimport { AlertMeta } from '../interfaces/alert.type';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport abstract class SlUtilsService {\n  constructor(public modalService: SuiModalService) {}\n\n  /**\n   * @param {AlertMeta}  meta: Alert Meta Form Object\n   * @param {String} meta.title Optional ! Display title of alert fields\n   * @param {String}  meta.size Provide size of alert.('tiny','mini)\n   * @param {AlertBodyType}  meta.bodyType Alert-content type to show in alert body\n   * @param {String}  meta.data content to show\n   * @param {String}  meta.buttonClass class to apply on button div\n   * @param {String}  meta.acceptText text to show in accept button\n   * @param {String}  meta.cancelText text to show in accept button\n   * @param {String}  meta.type Optional ! To set type of alert\n   * @param {Boolean}  meta.closeIcon Optional ! Show top right close icon , default = false\n   */\n  alert(meta: AlertMeta) {\n    const button = [];\n    meta.acceptText &&\n      button.push({\n        type: 'accept',\n        returnValue: true,\n        buttonText: meta.acceptText,\n      });\n    meta.cancelText &&\n      button.push({\n        type: 'cancel',\n        returnValue: false,\n        buttonText: meta.cancelText,\n      });\n\n    let alertMeta = {\n      type: meta.type,\n      size: meta.size,\n      isClosed: meta.closeIcon,\n      content: {\n        title: meta.title,\n        body: {\n          type: meta.bodyType,\n          data: meta.data,\n        },\n      },\n      footer: {\n        className: meta.buttonClass,\n        buttons: button,\n      },\n    };\n\n    return this.openAlert(alertMeta);\n  }\n\n  abstract openAlert(data): Promise<any>;\n\n  abstract error(msg);\n\n  abstract getPreSingedUrls(payload);\n\n  abstract cloudStorageUpload(payload);\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AlertMeta } from '../interfaces/alert.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlUtilsService } from '../services/utils.service';\n\n@Component({\n  selector: 'sl-attachment',\n  templateUrl: './attachment.component.html',\n  styleUrls: ['./attachment.component.scss'],\n})\nexport class AttachmentComponent implements OnInit {\n  @Input() data;\n  formData;\n  constructor(\n    private translate: SlTranslateService,\n    private utils: SlUtilsService\n  ) {}\n\n  ngOnInit(): void {}\n\n  basicUpload(files: File[]) {\n    let sizeMB = +(files[0].size / 1000 / 1000).toFixed(4);\n    if (sizeMB > 20) {\n      this.fileLimitCross();\n      return;\n    }\n    this.formData = new FormData();\n    Array.from(files).forEach((f) => this.formData.append('file', f));\n    this.preSignedUrl(this.getFileNames(this.formData));\n  }\n\n  fileLimitCross() {\n    const alertMeta: AlertMeta = {\n      size: 'tiny',\n      bodyType: 'text',\n      data: this.translate['frmelmnts'].alert.fileLimitCross20,\n      buttonClass: 'single-btn',\n      acceptText: this.translate['frmelmnts'].btn.ok,\n      cancelText: null,\n    };\n    this.utils.alert(alertMeta);\n  }\n\n  getFileNames(formData) {\n    let files = [];\n    formData.forEach((element) => {\n      files.push(element.name);\n    });\n    return files;\n  }\n\n  preSignedUrl(files) {\n    let payload = {};\n    payload['ref'] = 'survey';\n    payload['request'] = {};\n    payload['request'][this.data.submissionId] = {\n      files: files,\n    };\n    this.utils.getPreSingedUrls(payload).subscribe(\n      (imageData) => {\n        const presignedUrlData =\n          imageData['result'][this.data.submissionId].files[0];\n        this.formData.append('url', presignedUrlData.url);\n        this.utils.cloudStorageUpload(this.formData).subscribe(\n          (success: any) => {\n            if (success.status === 200) {\n              const obj = {\n                name: this.getFileNames(this.formData)[0],\n                url: presignedUrlData.url.split('?')[0],\n              };\n              for (const key of Object.keys(presignedUrlData.payload)) {\n                obj[key] = presignedUrlData['payload'][key];\n              }\n              this.data.files.push(obj);\n              const alertMeta: AlertMeta = {\n                size: 'tiny',\n                bodyType: 'text',\n                data: this.translate['frmelmnts'].alert.evidenceUploaded,\n                buttonClass: 'single-btn',\n                acceptText: this.translate['frmelmnts'].btn.ok,\n                cancelText: null,\n                type: 'uploaded',\n              };\n              this.utils.alert(alertMeta);\n            } else {\n              this.utils.error(\n                this.translate['frmelmnts'].message.unableToUpload\n              );\n            }\n          },\n          (error) => {\n            this.utils.error(\n              this.translate['frmelmnts'].message.unableToUpload\n            );\n          }\n        );\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  extension(name) {\n    return name.split('.').pop();\n  }\n  openFile(file) {\n    window.open(file.url, '_blank');\n  }\n\n  async deleteAttachment(fileIndex) {\n    const alertMeta: AlertMeta = {\n      size: 'mini',\n      bodyType: 'text',\n      data: this.translate['frmelmnts'].alert.confirmEvidenceDelete,\n      buttonClass: 'double-btn',\n      acceptText: this.translate['frmelmnts'].btn.ok,\n      cancelText: this.translate['frmelmnts'].btn.no,\n    };\n    const accepted = await this.utils.alert(alertMeta);\n\n    if (!accepted) {\n      return;\n    }\n    this.data.files.splice(fileIndex, 1);\n  }\n\n  async onAddApproval(file) {\n    let html = `\n    ${this.translate['frmelmnts'].alert.evidence_content_policy}<a href='/term-of-use.html' target=\"_blank\">${this.translate['frmelmnts'].alert.evidence_content_policy_label}</a> .${this.translate['frmelmnts'].alert.uploadevidencecontent}\n    `;\n    const alertMeta: AlertMeta = {\n      size: 'tiny',\n      bodyType: 'checkbox',\n      data: html,\n      buttonClass: 'double-btn',\n      acceptText: this.translate['frmelmnts'].btn.upload,\n      cancelText: this.translate['frmelmnts'].btn.donotupload,\n    };\n    let returnData = await this.utils.alert(alertMeta);\n    if (!returnData) {\n      this.notAccepted();\n      return;\n    }\n    file.click();\n  }\n\n  notAccepted(): void {\n    const alertMeta: AlertMeta = {\n      size: 'tiny',\n      bodyType: 'text',\n      data: this.translate['frmelmnts'].alert.uploadTermsRejected,\n      buttonClass: 'single-btn',\n      acceptText: this.translate['frmelmnts'].btn.ok,\n      cancelText: null,\n      type: 'notAccepted',\n    };\n    this.utils.alert(alertMeta);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Question, ResponseType } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport { SlQuestionnaireService } from '../services/sl-questionnaire.service';\n\n@Component({\n  selector: 'sl-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.scss'],\n})\nexport class InputComponent {\n  @Input() questions: Array<Question>;\n  @Input() questionnaireForm: FormGroup;\n  selectedIndex: number;\n  dimmerIndex;\n  isDimmed;\n  dimmerCloseText = this.translate['frmelmnts'].btn.close;\n\n  constructor(private translate: SlTranslateService,public qService:SlQuestionnaireService) {}\n\n  public get reponseType(): typeof ResponseType {\n    return ResponseType;\n  }\n\n  toggleQuestion(parent) {\n    const { children } = parent;\n\n    this.questions.map((q, i) => {\n      if (children.includes(q._id)) {\n        let child = this.questions[i];\n        child['canDisplay'] = this.canDisplayChildQ(child, i);\n        if (child['canDisplay'] == false) {\n          child.value = '';\n          this.questionnaireForm.removeControl(child._id);\n        }\n      }\n    });\n  }\n\n  canDisplayChildQ(currentQuestion: Question, currentQuestionIndex: number) {\n    let display = true;\n    if (typeof currentQuestion.visibleIf == 'string' || null || undefined) {\n      return false; //if condition not present\n    }\n    for (const question of this.questions) {\n      for (const condition of currentQuestion.visibleIf) {\n        if (condition._id === question._id) {\n          let expression = [];\n          if (condition.operator != '===') {\n            if (question.responseType === 'multiselect') {\n              for (const parentValue of question.value) {\n                for (const value of condition.value) {\n                  expression.push(\n                    '(',\n                    \"'\" + parentValue + \"'\",\n                    '===',\n                    \"'\" + value + \"'\",\n                    ')',\n                    condition.operator\n                  );\n                }\n              }\n            } else {\n              for (const value of condition.value) {\n                expression.push(\n                  '(',\n                  \"'\" + question.value + \"'\",\n                  '===',\n                  \"'\" + value + \"'\",\n                  ')',\n                  condition.operator\n                );\n              }\n            }\n            expression.pop();\n          } else {\n            if (question.responseType === 'multiselect') {\n              for (const value of question.value) {\n                expression.push(\n                  '(',\n                  \"'\" + condition.value + \"'\",\n                  '===',\n                  \"'\" + value + \"'\",\n                  ')',\n                  '||'\n                );\n              }\n              expression.pop();\n            } else {\n              expression.push(\n                '(',\n                \"'\" + question.value + \"'\",\n                condition.operator,\n                \"'\" + condition.value + \"'\",\n                ')'\n              );\n            }\n          }\n          if (!eval(expression.join(''))) {\n            this.questions[currentQuestionIndex].isCompleted = true;\n            return false;\n          } else {\n            // this.questions[currentQuestionIndex].isCompleted =\n            //   this.utils.isQuestionComplete(currentQuestion);\n          }\n        }\n      }\n    }\n    return display;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { PageQuestion } from '../interfaces/questionnaire.type';\n\n@Component({\n  selector: 'sl-page-questions',\n  templateUrl: './page-questions.component.html',\n  styleUrls: ['./page-questions.component.css'],\n})\nexport class PageQuestionsComponent implements OnInit {\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: PageQuestion;\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport {\n  FormArray,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport {\n  ModalTemplate,\n  SuiModalService,\n  TemplateModalConfig,\n} from 'ng2-semantic-ui-v9';\nimport { MatrixQuestion, Question } from '../interfaces/questionnaire.type';\nimport { SlTranslateService } from '../services/translate.service';\nimport * as _ from 'lodash-es';\nimport { AlertMeta } from '../interfaces/alert.type';\nimport { SlUtilsService } from '../services/utils.service';\n\nexport interface IContext {\n  questions: Question[];\n  heading: string;\n  index: number;\n}\n@Component({\n  selector: 'sl-matrix-questions',\n  templateUrl: './matrix-questions.component.html',\n  styleUrls: ['./matrix-questions.component.css'],\n})\nexport class MatrixQuestionsComponent implements OnInit {\n  addText: string;\n  submitText: string;\n  cancelText: string;\n  @Input() questionnaireForm: FormGroup;\n  @Input() question: MatrixQuestion;\n  matrixForm: FormGroup;\n  @ViewChild('modalTemplate')\n  public modalTemplate: ModalTemplate<IContext, string, string>;\n  context: IContext;\n  showBadgeAssingModel: boolean;\n  constructor(\n    private translate: SlTranslateService,\n    public modalService: SuiModalService,\n    public fb: FormBuilder,\n    private utils: SlUtilsService\n  ) {}\n\n  ngOnInit(): void {\n    this.addText = this.translate['frmelmnts'].btn.add;\n    this.submitText = this.translate['frmelmnts'].btn.submit;\n    this.cancelText = this.translate['frmelmnts'].btn.cancel;\n    setTimeout(() => {\n      this.matrixForm = this.fb.group({}, Validators.required);\n      this.questionnaireForm.addControl(\n        this.question._id,\n        new FormArray([], [Validators.required])\n      );\n      this.initializeMatrix();\n    });\n  }\n  initializeMatrix() {\n    let valid = true;\n    if (this.question.value.length) {\n      this.question.value.map((v) => {\n        let obj = {};\n        v.forEach((ques) => {\n          if (!ques.value) return;\n          obj[ques._id] = ques.value;\n        });\n        (this.questionnaireForm.controls[this.question._id] as FormArray).push(\n          new FormControl(obj)\n        );\n        if (_.isEmpty(obj)) {\n          valid = false;\n        }\n      });\n    }\n\n    if (!valid)\n      this.questionnaireForm.controls[this.question._id].setErrors({\n        err: 'Matrix reposne not valid',\n      });\n  }\n\n  addInstances(): void {\n    this.question.value = this.question.value ? this.question.value : [];\n    this.question.value.push(\n      JSON.parse(JSON.stringify(this.question.instanceQuestions))\n    );\n    this.matrixForm.reset();\n    this.formAsArray.push(new FormControl([], [Validators.required]));\n  }\n\n  viewInstance(i): void {\n    this.matrixForm.reset();\n    if (this.formAsArray.controls[i].value) {\n      this.matrixForm.patchValue(this.formAsArray.controls[i].value);\n    }\n    const config = new TemplateModalConfig<IContext, string, string>(\n      this.modalTemplate\n    );\n    config.closeResult = 'closed!';\n    config.context = {\n      questions: this.question.value[i],\n      heading: `${this.question.instanceIdentifier} ${i + 1}`,\n      index: i,\n    };\n    this.context = config.context;\n    this.showBadgeAssingModel = true;\n  }\n\n  get formAsArray() {\n    return this.questionnaireForm.controls[this.question._id] as FormArray;\n  }\n\n  matrixSubmit(index) {\n    this.showBadgeAssingModel = false;\n    this.formAsArray.at(index).patchValue(this.matrixForm.value);\n    if (this.matrixForm.invalid) {\n      this.formAsArray.at(index).setErrors({ err: 'Matrix reposne not valid' });\n    }\n  }\n\n  async deleteInstanceAlert(index) {\n    // let metaData = await this.observationUtilService.getAlertMetaData();\n    // metaData.content.body.data =\n    //   this.resourceService.frmelmnts.lbl.deleteSubmission;\n    // metaData.content.body.type = 'text';\n    // metaData.content.title = this.resourceService.frmelmnts.btn.delete;\n    // metaData.size = 'mini';\n    // metaData.footer.buttons.push({\n    //   type: 'cancel',\n    //   returnValue: false,\n    //   buttonText: this.resourceService.frmelmnts.btn.no,\n    // });\n    // metaData.footer.buttons.push({\n    //   type: 'accept',\n    //   returnValue: true,\n    //   buttonText: this.resourceService.frmelmnts.btn.yes,\n    // });\n    // metaData.footer.className = 'double-btn';\n    // const accepted = await this.observationUtilService.showPopupAlert(metaData);\n    const alertMeta: AlertMeta = {\n      title: this.translate['frmelmnts'].alert.uploadTermsRejected,\n      size: 'mini',\n      bodyType: 'text',\n      data: this.translate['frmelmnts'].lbl.deleteSubmission,\n      buttonClass: 'double-btn',\n      acceptText: this.translate['frmelmnts'].btn.yes,\n      cancelText: this.translate['frmelmnts'].btn.no,\n    };\n    const accepted = this.utils.alert(alertMeta);\n    if (!accepted) {\n      return;\n    }\n\n    this.question.value.splice(index, 1);\n    (this.questionnaireForm.controls[this.question._id] as FormArray).removeAt(\n      index\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TextInputComponent } from './text-input/text-input.component';\nimport { DateInputComponent } from './date-input/date-input.component';\nimport { SuiModule } from 'ng2-semantic-ui-v9';\nimport { NumberInputComponent } from './number-input/number-input.component';\nimport { RangeInputComponent } from './range-input/range-input.component';\nimport { RadioInputComponent } from './radio-input/radio-input.component';\nimport { CheckboxInputComponent } from './checkbox-input/checkbox-input.component';\nimport { QuesRemarksComponent } from './ques-remarks/ques-remarks.component';\nimport { AttachmentComponent } from './attachment/attachment.component';\nimport { InputComponent } from './input/input.component';\nimport { PageQuestionsComponent } from './page-questions/page-questions.component';\nimport { MatrixQuestionsComponent } from './matrix-questions/matrix-questions.component';\n\n@NgModule({\n  declarations: [\n    TextInputComponent,\n    DateInputComponent,\n    NumberInputComponent,\n    RangeInputComponent,\n    RadioInputComponent,\n    CheckboxInputComponent,\n    QuesRemarksComponent,\n    AttachmentComponent,\n    InputComponent,\n    PageQuestionsComponent,\n    MatrixQuestionsComponent,\n  ],\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, SuiModule],\n  exports: [\n    TextInputComponent,\n    DateInputComponent,\n    NumberInputComponent,\n    RangeInputComponent,\n    RadioInputComponent,\n    CheckboxInputComponent,\n    QuesRemarksComponent,\n    AttachmentComponent,\n    InputComponent,\n    PageQuestionsComponent,\n    MatrixQuestionsComponent,\n  ],\n})\nexport class SlQuestionnaireModule {}\n"],"names":["Injectable","ResponseType","FormControl","Input","Component","EventEmitter","Output","FormArray","SuiModalService","Validators","_.isEmpty","TemplateModalConfig","FormBuilder","ViewChild","NgModule","CommonModule","FormsModule","ReactiveFormsModule","SuiModule"],"mappings":"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"}